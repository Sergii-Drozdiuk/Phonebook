import{R as p,j as n,u as C,b as x,_ as v,c as U,d as D,r as z,f as M,e as T,h as _}from"./index-8e67a94f.js";import{h as I,i as O,j as W,r as G,T as S,B as K}from"./yup.module-fcad8776.js";var j="NOT_FOUND";function J(e){var r;return{get:function(a){return r&&e(r.key,a)?r.value:j},put:function(a,s){r={key:a,value:s}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}}function Q(e,r){var t=[];function a(l){var o=t.findIndex(function(f){return r(l,f.key)});if(o>-1){var i=t[o];return o>0&&(t.splice(o,1),t.unshift(i)),i.value}return j}function s(l,o){a(l)===j&&(t.unshift({key:l,value:o}),t.length>e&&t.pop())}function c(){return t}function u(){t=[]}return{get:a,put:s,getEntries:c,clear:u}}var X=function(r,t){return r===t};function Y(e){return function(t,a){if(t===null||a===null||t.length!==a.length)return!1;for(var s=t.length,c=0;c<s;c++)if(!e(t[c],a[c]))return!1;return!0}}function ee(e,r){var t=typeof r=="object"?r:{equalityCheck:r},a=t.equalityCheck,s=a===void 0?X:a,c=t.maxSize,u=c===void 0?1:c,l=t.resultEqualityCheck,o=Y(s),i=u===1?J(o):Q(u,o);function f(){var m=i.get(arguments);if(m===j){if(m=e.apply(null,arguments),l){var d=i.getEntries(),b=d.find(function(y){return l(y.value,m)});b&&(m=b.value)}i.put(arguments,m)}return m}return f.clearCache=function(){return i.clear()},f}function te(e){var r=Array.isArray(e[0])?e[0]:e;if(!r.every(function(a){return typeof a=="function"})){var t=r.map(function(a){return typeof a=="function"?"function "+(a.name||"unnamed")+"()":typeof a}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return r}function re(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),a=1;a<r;a++)t[a-1]=arguments[a];var s=function(){for(var u=arguments.length,l=new Array(u),o=0;o<u;o++)l[o]=arguments[o];var i=0,f,m={memoizeOptions:void 0},d=l.pop();if(typeof d=="object"&&(m=d,d=l.pop()),typeof d!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof d+"]");var b=m,y=b.memoizeOptions,w=y===void 0?t:y,$=Array.isArray(w)?w:[w],N=te(l),E=e.apply(void 0,[function(){return i++,d.apply(null,arguments)}].concat($)),P=e(function(){for(var L=[],q=N.length,Z=0;Z<q;Z++)L.push(N[Z].apply(null,arguments));return f=E.apply(null,L),f});return Object.assign(P,{resultFunc:d,memoizedResultFunc:E,dependencies:N,lastResult:function(){return f},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),P};return s}var ae=re(ee);const H=e=>e.filter,k=e=>e.contacts.contacts,ne=e=>e.contacts.isLoading,F=e=>e.contacts.error,se=ae([k,H],(e,r)=>e.filter(t=>t.name.toLowerCase().includes(r.toLowerCase())));let oe=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((r,t)=>(t&=63,t<36?r+=t.toString(36):t<62?r+=(t-26).toString(36).toUpperCase():t>62?r+="-":r+="_",r),"");var B={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},V=p.createContext&&p.createContext(B),g=globalThis&&globalThis.__assign||function(){return g=Object.assign||function(e){for(var r,t=1,a=arguments.length;t<a;t++){r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},g.apply(this,arguments)},le=globalThis&&globalThis.__rest||function(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t};function R(e){return e&&e.map(function(r,t){return p.createElement(r.tag,g({key:t},r.attr),R(r.child))})}function h(e){return function(r){return p.createElement(ce,g({attr:g({},e.attr)},r),R(e.child))}}function ce(e){var r=function(t){var a=e.attr,s=e.size,c=e.title,u=le(e,["attr","size","title"]),l=s||t.size||"1em",o;return t.className&&(o=t.className),e.className&&(o=(o?o+" ":"")+e.className),p.createElement("svg",g({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,u,{className:o,style:g(g({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),c&&p.createElement("title",null,c),e.children)};return V!==void 0?p.createElement(V.Consumer,null,function(t){return r(t)}):r(B)}function ie(e){return h({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M223.94,174.08A48.33,48.33,0,0,1,176,216,136,136,0,0,1,40,80,48.33,48.33,0,0,1,81.92,32.06a8,8,0,0,1,8.3,4.8l21.13,47.2a8,8,0,0,1-.66,7.53L89.32,117a7.93,7.93,0,0,0-.54,7.81c8.27,16.93,25.77,34.22,42.75,42.41a7.92,7.92,0,0,0,7.83-.59l25-21.3a8,8,0,0,1,7.59-.69l47.16,21.13A8,8,0,0,1,223.94,174.08Z",opacity:"0.2"}},{tag:"path",attr:{d:"M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"}}]})(e)}function ue(e){return h({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,128a95.76,95.76,0,0,1-31.8,71.37A72,72,0,0,0,128,160a40,40,0,1,0-40-40,40,40,0,0,0,40,40,72,72,0,0,0-64.2,39.37h0A96,96,0,1,1,224,128Z",opacity:"0.2"}},{tag:"path",attr:{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM74.08,197.5a64,64,0,0,1,107.84,0,87.83,87.83,0,0,1-107.84,0ZM96,120a32,32,0,1,1,32,32A32,32,0,0,1,96,120Zm97.76,66.41a79.66,79.66,0,0,0-36.06-28.75,48,48,0,1,0-59.4,0,79.66,79.66,0,0,0-36.06,28.75,88,88,0,1,1,131.52,0Z"}}]})(e)}function de(e){return h({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,128a95.76,95.76,0,0,1-31.8,71.37A72,72,0,0,0,128,160a40,40,0,1,0-40-40,40,40,0,0,0,40,40,72,72,0,0,0-64.2,39.37h0A96,96,0,1,1,224,128Z",opacity:"0.2"}},{tag:"path",attr:{d:"M168,56a8,8,0,0,1,8-8h48a8,8,0,0,1,0,16H176A8,8,0,0,1,168,56Zm62.56,54.68a103.92,103.92,0,1,1-85.24-85.24,8,8,0,0,1-2.64,15.78A88.07,88.07,0,0,0,40,128a87.62,87.62,0,0,0,22.24,58.41A79.66,79.66,0,0,1,98.3,157.66a48,48,0,1,1,59.4,0,79.66,79.66,0,0,1,36.06,28.75A87.62,87.62,0,0,0,216,128a88.85,88.85,0,0,0-1.22-14.68,8,8,0,1,1,15.78-2.64ZM128,152a32,32,0,1,0-32-32A32,32,0,0,0,128,152Zm0,64a87.57,87.57,0,0,0,53.92-18.5,64,64,0,0,0-107.84,0A87.57,87.57,0,0,0,128,216Z"}}]})(e)}function me(e){return h({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M160,112a32,32,0,1,1-32-32A32,32,0,0,1,160,112Z",opacity:"0.2"}},{tag:"path",attr:{d:"M224,48V76a8,8,0,0,1-16,0V48H180a8,8,0,0,1,0-16h28A16,16,0,0,1,224,48Zm-8,124a8,8,0,0,0-8,8v28H180a8,8,0,0,0,0,16h28a16,16,0,0,0,16-16V180A8,8,0,0,0,216,172ZM76,208H48V180a8,8,0,0,0-16,0v28a16,16,0,0,0,16,16H76a8,8,0,0,0,0-16ZM40,84a8,8,0,0,0,8-8V48H76a8,8,0,0,0,0-16H48A16,16,0,0,0,32,48V76A8,8,0,0,0,40,84Zm136,92a8,8,0,0,1-6.41-3.19,52,52,0,0,0-83.2,0,8,8,0,1,1-12.8-9.62A67.94,67.94,0,0,1,101,141.51a40,40,0,1,1,53.94,0,67.94,67.94,0,0,1,27.43,21.68A8,8,0,0,1,176,176Zm-48-40a24,24,0,1,0-24-24A24,24,0,0,0,128,136Z"}}]})(e)}function fe(e){return h({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,128a95.76,95.76,0,0,1-31.8,71.37A72,72,0,0,0,128,160a40,40,0,1,0-40-40,40,40,0,0,0,40,40,72,72,0,0,0-64.2,39.37h0A96,96,0,1,1,224,128Z",opacity:"0.2"}},{tag:"path",attr:{d:"M253.66,133.66l-24,24a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L216,132.69V128A88,88,0,0,0,56.49,76.67a8,8,0,0,1-13-9.34A104,104,0,0,1,232,128v4.69l10.34-10.35a8,8,0,0,1,11.32,11.32Zm-41.18,55A104,104,0,0,1,24,128v-4.69L13.66,133.66A8,8,0,0,1,2.34,122.34l24-24a8,8,0,0,1,11.32,0l24,24a8,8,0,0,1-11.32,11.32L40,123.31V128a87.62,87.62,0,0,0,22.24,58.41A79.66,79.66,0,0,1,98.3,157.66a48,48,0,1,1,59.4,0,79.59,79.59,0,0,1,36.08,28.78,89.68,89.68,0,0,0,5.71-7.11,8,8,0,0,1,13,9.34ZM128,152a32,32,0,1,0-32-32A32,32,0,0,0,128,152Zm0,64a88.2,88.2,0,0,0,53.92-18.49,64,64,0,0,0-107.84,0A87.57,87.57,0,0,0,128,216Z"}}]})(e)}function he(e){return h({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M160,112a24,24,0,1,1-24-24A24,24,0,0,1,160,112Zm64-72V216a16,16,0,0,1-16,16H64a16,16,0,0,1-16-16V192H32a8,8,0,0,1,0-16H48V136H32a8,8,0,0,1,0-16H48V80H32a8,8,0,0,1,0-16H48V40A16,16,0,0,1,64,24H208A16,16,0,0,1,224,40ZM190.4,163.2A67.88,67.88,0,0,0,163,141.51a40,40,0,1,0-53.94,0A67.88,67.88,0,0,0,81.6,163.2a8,8,0,1,0,12.8,9.6,52,52,0,0,1,83.2,0,8,8,0,1,0,12.8-9.6Z"}}]})(e)}function ge(e){return h({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"}}]})(e)}function pe(e){return h({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M221.59,160.3l-47.24-21.17a14,14,0,0,0-13.28,1.22,4.81,4.81,0,0,0-.56.42l-24.69,21a1.88,1.88,0,0,1-1.68.06c-15.87-7.66-32.31-24-40-39.65a1.91,1.91,0,0,1,0-1.68l21.07-25a6.13,6.13,0,0,0,.42-.58,14,14,0,0,0,1.12-13.27L95.73,34.49a14,14,0,0,0-14.56-8.38A54.24,54.24,0,0,0,34,80c0,78.3,63.7,142,142,142a54.25,54.25,0,0,0,53.89-47.17A14,14,0,0,0,221.59,160.3ZM176,210C104.32,210,46,151.68,46,80A42.23,42.23,0,0,1,82.67,38h.23a2,2,0,0,1,1.84,1.31l21.1,47.11a2,2,0,0,1,0,1.67L84.73,113.15a4.73,4.73,0,0,0-.43.57,14,14,0,0,0-.91,13.73c8.87,18.16,27.17,36.32,45.53,45.19a14,14,0,0,0,13.77-1c.19-.13.38-.27.56-.42l24.68-21a1.92,1.92,0,0,1,1.6-.1l47.25,21.17a2,2,0,0,1,1.21,2A42.24,42.24,0,0,1,176,210Z"}}]})(e)}function xe(e){return h({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26ZM71.44,198a66,66,0,0,1,113.12,0,89.8,89.8,0,0,1-113.12,0ZM94,120a34,34,0,1,1,34,34A34,34,0,0,1,94,120Zm99.51,69.64a77.53,77.53,0,0,0-40-31.38,46,46,0,1,0-51,0,77.53,77.53,0,0,0-40,31.38,90,90,0,1,1,131,0Z"}}]})(e)}function ve(e){return h({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M170,56a6,6,0,0,1,6-6h18V32a6,6,0,0,1,12,0V50h18a6,6,0,0,1,0,12H206V80a6,6,0,0,1-12,0V62H176A6,6,0,0,1,170,56Zm58.59,55A101.9,101.9,0,1,1,145,27.41a6,6,0,1,1-2,11.83A91.66,91.66,0,0,0,128,38,89.95,89.95,0,0,0,62.49,189.64a77.53,77.53,0,0,1,40-31.38,46,46,0,1,1,51,0,77.53,77.53,0,0,1,40,31.38A89.65,89.65,0,0,0,218,128a91.76,91.76,0,0,0-1.24-15,6,6,0,1,1,11.83-2ZM128,154a34,34,0,1,0-34-34A34,34,0,0,0,128,154Zm0,64A89.58,89.58,0,0,0,184.56,198a66,66,0,0,0-113.12,0A89.58,89.58,0,0,0,128,218Z"}}]})(e)}const be=I({name:O().trim().min(2,"Too Short!").matches(/^[a-zA-Zа-яА-Я]+([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*$/,"Name may contain only letters, apostrophe, dash, and spaces.").required("Name is required"),number:O().trim().matches(/^\+?\d{1,4}?[ .\-s]?(\(\d{1,3}?\))?([ .\-s]?\d{1,4}){1,4}$/,"Phone number must be digits and can contain spaces, dashes, parentheses, and can start with +").required("Phone number is required").min(9,"Please enter at least 9 digits")}),ye=()=>{const{handleSubmit:e,reset:r,register:t,formState:{errors:a}}=W({reValidateMode:"onChange",resolver:G(be)}),s=l=>{var o;return a[l]&&n.jsx("small",{className:"p-error mt-2",children:(o=a[l])==null?void 0:o.message})},c=t("name"),u=t("number");return{handleSubmit:e,reset:r,registerName:c,registerNumber:u,errorMessage:s}},Ae=()=>{const e=C(),r=x(k),{handleSubmit:t,reset:a,registerName:s,registerNumber:c,errorMessage:u}=ye(),l=({name:o,number:i})=>{const f=r.some(d=>d.name.trim().toLowerCase()===o.trim().toLowerCase()),m=r.some(d=>d.number===i);f?v.error(`${o}' is already in contacts.`):m?v.error(`${i}' is already in contacts.`):(e(U({id:oe(),name:o,number:i})),v.success(`${o} has been successfully added to your contacts`),a())};return n.jsxs("form",{onSubmit:t(l),className:"mb-2 flex flex-col items-center gap-3 py-3",children:[n.jsxs("label",{className:"flex flex-col items-center gap-2",children:[n.jsxs("div",{className:"flex flex-row items-center gap-2",children:[n.jsx(xe,{}),n.jsx(S,{...s,name:"name",type:"text",className:"rounded-lg pl-2 text-black",label:"User name"})]}),u("name")]}),n.jsxs("label",{className:"flex flex-col items-center gap-2",children:[n.jsxs("div",{className:"flex flex-row items-center gap-2",children:[n.jsx(pe,{}),n.jsx(S,{...c,name:"number",type:"tel",className:"rounded-lg pl-2 text-black",label:"Phone number"})]}),u("number")]}),n.jsxs(K,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},className:"flex items-center justify-center gap-1",children:[n.jsx(ve,{}),"Add contact"]})]})},je=()=>{const e=x(H),r=C();return n.jsx("label",{className:"mb-2 flex flex-col items-center gap-2",children:n.jsxs("div",{className:"flex flex-row items-center gap-2",children:[n.jsx(ge,{}),n.jsx(S,{value:e,label:"Find contacts by name",type:"text",name:"filter",onChange:t=>r(D(t.target.value)),className:"rounded-lg pl-2 text-black"})]})})},Ce=()=>{const e=C(),r=x(se);z.useEffect(()=>{e(M())},[e]);const t=(a,s)=>{v.success(`${s} has been successfully deleted from your contacts`),e(T(a)).then(()=>{e(M())})};return n.jsx("ul",{className:"sm:max-h-[70vh] overflow-y-auto scrollbar-none",children:r.length?r.map(({id:a,name:s,number:c})=>n.jsxs("li",{className:"mb-2 py-1 border rounded border-grey hover:border-black flex items-center justify-around gap-2",children:[n.jsx(me,{style:{fontSize:"50px"}}),n.jsxs("div",{className:"w-3/5",children:[n.jsxs("span",{className:"flex overflow-hidden",children:[n.jsx(ue,{style:{fontSize:"20px",marginRight:"8px"}})," ",s]}),n.jsxs("span",{className:"flex overflow-hidden ",children:[n.jsx(ie,{style:{fontSize:"20px",marginRight:"8px"}})," ",c]})]}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("button",{type:"button",className:"flex rounded-lg bg-orange-400 border border-grey px-2 py-[2px] hover:bg-orange-500 hover:border-black focus:bg-orange-500",children:n.jsx(fe,{})}),n.jsx("button",{type:"button",onClick:()=>t(a,s),className:"flex rounded-lg bg-red-400 border border-grey px-2 py-[2px] hover:bg-red-500 hover:border-black focus:bg-red-500",children:n.jsx(de,{})})]})]},a)):n.jsx("p",{className:"text-center",children:"Contacts not found"})})},we=()=>{const e=x(F);return v.error(`${e.message}`),n.jsx("div",{children:n.jsx("p",{className:"text-lg text-red-500",children:"Something went wrong, try reload the page."})})};function Me(){const e=C(),r=x(ne),t=x(F);return z.useEffect(()=>{e(M())},[e]),n.jsxs("div",{className:"m-auto sm:flex sm:justify-center sm:gap-2",children:[r&&n.jsx(_,{}),n.jsxs("div",{className:"min-w-[240px] rounded-lg border p-3 min-[375px]:w-[365px]",children:[n.jsxs("h1",{className:"mb-4 flex items-center justify-center gap-2 text-2xl",children:[n.jsx("img",{src:"./public/phonebook.svg",width:24,height:24,alt:"logo"}),"Phonebook"]}),n.jsx(Ae,{})]}),n.jsxs("div",{className:"min-w-[240px] rounded-lg border p-3 mt-2 min-[375px]:w-[365px] sm:mt-0",children:[n.jsxs("h2",{className:"mb-4 flex items-center justify-center gap-2 text-xl",children:[n.jsx(he,{}),"Contacts"]}),t&&n.jsx(we,{}),n.jsx(je,{}),n.jsx(Ce,{})]})]})}export{Me as default};
