import{R as p,j as n,u as C,b as x,_ as v,c as q,d as U,r as H,f as z,e as T,L as _}from"./index-6d601493.js";import{c as I,a as L,u as W,r as G,T as M,B as K}from"./yup.module-4bfdb59a.js";import"./useThemeProps-1f788845.js";var j="NOT_FOUND";function J(e){var a;return{get:function(r){return a&&e(a.key,r)?a.value:j},put:function(r,s){a={key:r,value:s}},getEntries:function(){return a?[a]:[]},clear:function(){a=void 0}}}function Q(e,a){var t=[];function r(o){var c=t.findIndex(function(g){return a(o,g.key)});if(c>-1){var i=t[c];return c>0&&(t.splice(c,1),t.unshift(i)),i.value}return j}function s(o,c){r(o)===j&&(t.unshift({key:o,value:c}),t.length>e&&t.pop())}function l(){return t}function u(){t=[]}return{get:r,put:s,getEntries:l,clear:u}}var X=function(a,t){return a===t};function Y(e){return function(t,r){if(t===null||r===null||t.length!==r.length)return!1;for(var s=t.length,l=0;l<s;l++)if(!e(t[l],r[l]))return!1;return!0}}function ee(e,a){var t=typeof a=="object"?a:{equalityCheck:a},r=t.equalityCheck,s=r===void 0?X:r,l=t.maxSize,u=l===void 0?1:l,o=t.resultEqualityCheck,c=Y(s),i=u===1?J(c):Q(u,c);function g(){var m=i.get(arguments);if(m===j){if(m=e.apply(null,arguments),o){var d=i.getEntries(),y=d.find(function(b){return o(b.value,m)});y&&(m=y.value)}i.put(arguments,m)}return m}return g.clearCache=function(){return i.clear()},g}function te(e){var a=Array.isArray(e[0])?e[0]:e;if(!a.every(function(r){return typeof r=="function"})){var t=a.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return a}function ae(e){for(var a=arguments.length,t=new Array(a>1?a-1:0),r=1;r<a;r++)t[r-1]=arguments[r];var s=function(){for(var u=arguments.length,o=new Array(u),c=0;c<u;c++)o[c]=arguments[c];var i=0,g,m={memoizeOptions:void 0},d=o.pop();if(typeof d=="object"&&(m=d,d=o.pop()),typeof d!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof d+"]");var y=m,b=y.memoizeOptions,w=b===void 0?t:b,D=Array.isArray(w)?w:[w],N=te(o),S=e.apply(void 0,[function(){return i++,d.apply(null,arguments)}].concat(D)),E=e(function(){for(var P=[],$=N.length,Z=0;Z<$;Z++)P.push(N[Z].apply(null,arguments));return g=S.apply(null,P),g});return Object.assign(E,{resultFunc:d,memoizedResultFunc:S,dependencies:N,lastResult:function(){return g},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),E};return s}var re=ae(ee);const O=e=>e.filter,B=e=>e.contacts.contacts,ne=e=>e.contacts.isLoading,k=e=>e.contacts.error,se=re([B,O],(e,a)=>e.filter(t=>t.name.toLowerCase().includes(a.toLowerCase())));let ce=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((a,t)=>(t&=63,t<36?a+=t.toString(36):t<62?a+=(t-26).toString(36).toUpperCase():t>62?a+="-":a+="_",a),"");var F={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},V=p.createContext&&p.createContext(F),h=globalThis&&globalThis.__assign||function(){return h=Object.assign||function(e){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},h.apply(this,arguments)},oe=globalThis&&globalThis.__rest||function(e,a){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&a.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)a.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(t[r[s]]=e[r[s]]);return t};function R(e){return e&&e.map(function(a,t){return p.createElement(a.tag,h({key:t},a.attr),R(a.child))})}function f(e){return function(a){return p.createElement(le,h({attr:h({},e.attr)},a),R(e.child))}}function le(e){var a=function(t){var r=e.attr,s=e.size,l=e.title,u=oe(e,["attr","size","title"]),o=s||t.size||"1em",c;return t.className&&(c=t.className),e.className&&(c=(c?c+" ":"")+e.className),p.createElement("svg",h({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:c,style:h(h({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),l&&p.createElement("title",null,l),e.children)};return V!==void 0?p.createElement(V.Consumer,null,function(t){return a(t)}):a(F)}function ie(e){return f({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,32H64a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V40A8,8,0,0,0,208,32ZM136,144a32,32,0,1,1,32-32A32,32,0,0,1,136,144Z",opacity:"0.2"}},{tag:"path",attr:{d:"M83.19,174.4a8,8,0,0,0,11.21-1.6,52,52,0,0,1,83.2,0,8,8,0,1,0,12.8-9.6A67.88,67.88,0,0,0,163,141.51a40,40,0,1,0-53.94,0A67.88,67.88,0,0,0,81.6,163.2,8,8,0,0,0,83.19,174.4ZM112,112a24,24,0,1,1,24,24A24,24,0,0,1,112,112Zm96-88H64A16,16,0,0,0,48,40V64H32a8,8,0,0,0,0,16H48v40H32a8,8,0,0,0,0,16H48v40H32a8,8,0,0,0,0,16H48v24a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V40A16,16,0,0,0,208,24Zm0,192H64V40H208Z"}}]})(e)}function ue(e){return f({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M223.94,174.08A48.33,48.33,0,0,1,176,216,136,136,0,0,1,40,80,48.33,48.33,0,0,1,81.92,32.06a8,8,0,0,1,8.3,4.8l21.13,47.2a8,8,0,0,1-.66,7.53L89.32,117a7.93,7.93,0,0,0-.54,7.81c8.27,16.93,25.77,34.22,42.75,42.41a7.92,7.92,0,0,0,7.83-.59l25-21.3a8,8,0,0,1,7.59-.69l47.16,21.13A8,8,0,0,1,223.94,174.08Z",opacity:"0.2"}},{tag:"path",attr:{d:"M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"}}]})(e)}function de(e){return f({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,128a95.76,95.76,0,0,1-31.8,71.37A72,72,0,0,0,128,160a40,40,0,1,0-40-40,40,40,0,0,0,40,40,72,72,0,0,0-64.2,39.37h0A96,96,0,1,1,224,128Z",opacity:"0.2"}},{tag:"path",attr:{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM74.08,197.5a64,64,0,0,1,107.84,0,87.83,87.83,0,0,1-107.84,0ZM96,120a32,32,0,1,1,32,32A32,32,0,0,1,96,120Zm97.76,66.41a79.66,79.66,0,0,0-36.06-28.75,48,48,0,1,0-59.4,0,79.66,79.66,0,0,0-36.06,28.75,88,88,0,1,1,131.52,0Z"}}]})(e)}function me(e){return f({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,128a95.76,95.76,0,0,1-31.8,71.37A72,72,0,0,0,128,160a40,40,0,1,0-40-40,40,40,0,0,0,40,40,72,72,0,0,0-64.2,39.37h0A96,96,0,1,1,224,128Z",opacity:"0.2"}},{tag:"path",attr:{d:"M168,56a8,8,0,0,1,8-8h48a8,8,0,0,1,0,16H176A8,8,0,0,1,168,56Zm62.56,54.68a103.92,103.92,0,1,1-85.24-85.24,8,8,0,0,1-2.64,15.78A88.07,88.07,0,0,0,40,128a87.62,87.62,0,0,0,22.24,58.41A79.66,79.66,0,0,1,98.3,157.66a48,48,0,1,1,59.4,0,79.66,79.66,0,0,1,36.06,28.75A87.62,87.62,0,0,0,216,128a88.85,88.85,0,0,0-1.22-14.68,8,8,0,1,1,15.78-2.64ZM128,152a32,32,0,1,0-32-32A32,32,0,0,0,128,152Zm0,64a87.57,87.57,0,0,0,53.92-18.5,64,64,0,0,0-107.84,0A87.57,87.57,0,0,0,128,216Z"}}]})(e)}function fe(e){return f({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,56V200a8,8,0,0,1-8,8H195.9A72,72,0,0,0,128,160a40,40,0,1,0-40-40,40,40,0,0,0,40,40,72,72,0,0,0-67.9,48H40a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8H216A8,8,0,0,1,224,56Z",opacity:"0.2"}},{tag:"path",attr:{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM96,120a32,32,0,1,1,32,32A32,32,0,0,1,96,120ZM72.57,200a64,64,0,0,1,110.86,0ZM216,200H201.33a80.14,80.14,0,0,0-43.69-42.28,48,48,0,1,0-59.28,0A80.14,80.14,0,0,0,54.67,200H40V56H216V200Z"}}]})(e)}function ge(e){return f({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,128a95.76,95.76,0,0,1-31.8,71.37A72,72,0,0,0,128,160a40,40,0,1,0-40-40,40,40,0,0,0,40,40,72,72,0,0,0-64.2,39.37h0A96,96,0,1,1,224,128Z",opacity:"0.2"}},{tag:"path",attr:{d:"M253.66,133.66l-24,24a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L216,132.69V128A88,88,0,0,0,56.49,76.67a8,8,0,0,1-13-9.34A104,104,0,0,1,232,128v4.69l10.34-10.35a8,8,0,0,1,11.32,11.32Zm-41.18,55A104,104,0,0,1,24,128v-4.69L13.66,133.66A8,8,0,0,1,2.34,122.34l24-24a8,8,0,0,1,11.32,0l24,24a8,8,0,0,1-11.32,11.32L40,123.31V128a87.62,87.62,0,0,0,22.24,58.41A79.66,79.66,0,0,1,98.3,157.66a48,48,0,1,1,59.4,0,79.59,79.59,0,0,1,36.08,28.78,89.68,89.68,0,0,0,5.71-7.11,8,8,0,0,1,13,9.34ZM128,152a32,32,0,1,0-32-32A32,32,0,0,0,128,152Zm0,64a88.2,88.2,0,0,0,53.92-18.49,64,64,0,0,0-107.84,0A87.57,87.57,0,0,0,128,216Z"}}]})(e)}function he(e){return f({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"}}]})(e)}function pe(e){return f({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M221.59,160.3l-47.24-21.17a14,14,0,0,0-13.28,1.22,4.81,4.81,0,0,0-.56.42l-24.69,21a1.88,1.88,0,0,1-1.68.06c-15.87-7.66-32.31-24-40-39.65a1.91,1.91,0,0,1,0-1.68l21.07-25a6.13,6.13,0,0,0,.42-.58,14,14,0,0,0,1.12-13.27L95.73,34.49a14,14,0,0,0-14.56-8.38A54.24,54.24,0,0,0,34,80c0,78.3,63.7,142,142,142a54.25,54.25,0,0,0,53.89-47.17A14,14,0,0,0,221.59,160.3ZM176,210C104.32,210,46,151.68,46,80A42.23,42.23,0,0,1,82.67,38h.23a2,2,0,0,1,1.84,1.31l21.1,47.11a2,2,0,0,1,0,1.67L84.73,113.15a4.73,4.73,0,0,0-.43.57,14,14,0,0,0-.91,13.73c8.87,18.16,27.17,36.32,45.53,45.19a14,14,0,0,0,13.77-1c.19-.13.38-.27.56-.42l24.68-21a1.92,1.92,0,0,1,1.6-.1l47.25,21.17a2,2,0,0,1,1.21,2A42.24,42.24,0,0,1,176,210Z"}}]})(e)}function xe(e){return f({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26ZM71.44,198a66,66,0,0,1,113.12,0,89.8,89.8,0,0,1-113.12,0ZM94,120a34,34,0,1,1,34,34A34,34,0,0,1,94,120Zm99.51,69.64a77.53,77.53,0,0,0-40-31.38,46,46,0,1,0-51,0,77.53,77.53,0,0,0-40,31.38,90,90,0,1,1,131,0Z"}}]})(e)}function ve(e){return f({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M170,56a6,6,0,0,1,6-6h18V32a6,6,0,0,1,12,0V50h18a6,6,0,0,1,0,12H206V80a6,6,0,0,1-12,0V62H176A6,6,0,0,1,170,56Zm58.59,55A101.9,101.9,0,1,1,145,27.41a6,6,0,1,1-2,11.83A91.66,91.66,0,0,0,128,38,89.95,89.95,0,0,0,62.49,189.64a77.53,77.53,0,0,1,40-31.38,46,46,0,1,1,51,0,77.53,77.53,0,0,1,40,31.38A89.65,89.65,0,0,0,218,128a91.76,91.76,0,0,0-1.24-15,6,6,0,1,1,11.83-2ZM128,154a34,34,0,1,0-34-34A34,34,0,0,0,128,154Zm0,64A89.58,89.58,0,0,0,184.56,198a66,66,0,0,0-113.12,0A89.58,89.58,0,0,0,128,218Z"}}]})(e)}const ye=I({name:L().min(2,"Too Short!").matches(/^[a-zA-Zа-яА-Я]+([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*$/,"Name may contain only letters, apostrophe, dash, and spaces.").required("Name is required"),number:L().matches(/^\+?\d{1,4}?[ .\-s]?(\(\d{1,3}?\))?([ .\-s]?\d{1,4}){1,4}$/,"Phone number must be digits and can contain spaces, dashes, parentheses, and can start with +").required("Phone number is required").min(9,"Please enter at least 9 digits")}),be=()=>{const{handleSubmit:e,reset:a,register:t,formState:{errors:r}}=W({reValidateMode:"onChange",resolver:G(ye)}),s=o=>{var c;return r[o]&&n.jsx("small",{className:"p-error mt-2",children:(c=r[o])==null?void 0:c.message})},l=t("name"),u=t("number");return{handleSubmit:e,reset:a,registerName:l,registerNumber:u,errorMessage:s}},Ae=()=>{const e=C(),a=x(B),{handleSubmit:t,reset:r,registerName:s,registerNumber:l,errorMessage:u}=be(),o=({name:c,number:i})=>{const g=a.some(d=>d.name.trim().toLowerCase()===c.trim().toLowerCase()),m=a.some(d=>d.number===i);g?v.error(`${c}' is already in contacts.`):m?v.error(`${i}' is already in contacts.`):(e(q({id:ce(),name:c,number:i})),v.success(`${c} has been successfully added to your contacts`),r())};return n.jsxs("form",{onSubmit:t(o),className:"mb-2 flex flex-col items-center gap-3 py-3",children:[n.jsxs("label",{className:"flex flex-col items-center gap-2",children:[n.jsxs("div",{className:"flex flex-row items-center gap-2",children:[n.jsx(xe,{}),n.jsx(M,{...s,name:"name",type:"text",className:"rounded-lg pl-2 text-black",label:"User name"})]}),u("name")]}),n.jsxs("label",{className:"flex flex-col items-center gap-2",children:[n.jsxs("div",{className:"flex flex-row items-center gap-2",children:[n.jsx(pe,{}),n.jsx(M,{...l,name:"number",type:"tel",className:"rounded-lg pl-2 text-black",label:"Phone number"})]}),u("number")]}),n.jsxs(K,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},className:"flex items-center justify-center gap-1",children:[n.jsx(ve,{}),"Add contact"]})]})},je=()=>{const e=x(O),a=C();return n.jsx("label",{className:"mb-2 flex flex-col items-center gap-2",children:n.jsxs("div",{className:"flex flex-row items-center gap-2",children:[n.jsx(he,{}),n.jsx(M,{value:e,label:"Find contacts by name",type:"text",onChange:t=>a(U(t.target.value)),className:"rounded-lg pl-2 text-black"})]})})},Ce=()=>{const e=C();H.useEffect(()=>{e(z())},[e]);const a=x(se),t=(r,s)=>(v.success(`${s} has been successfully deleted from your contacts`),e(T(r)));return n.jsx("ul",{className:"sm:max-h-[70vh] overflow-y-auto scrollbar-none",children:a.length?a.map(({id:r,name:s,number:l})=>n.jsxs("li",{className:"mb-2 py-1 border border-black flex items-center justify-around gap-2",children:[n.jsx(fe,{style:{fontSize:"50px"}}),n.jsxs("div",{className:"w-3/5",children:[n.jsxs("span",{className:"flex overflow-hidden",children:[n.jsx(de,{style:{fontSize:"20px",marginRight:"8px"}})," ",s]}),n.jsxs("span",{className:"flex overflow-hidden ",children:[n.jsx(ue,{style:{fontSize:"20px",marginRight:"8px"}})," ",l]})]}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("button",{type:"button",className:"flex rounded-lg bg-orange-300 border border-black px-2 py-[2px] hover:bg-orange-500 active:bg-orange-500",children:n.jsx(ge,{})}),n.jsx("button",{type:"button",onClick:()=>t(r,s),className:"flex rounded-lg bg-rose-300 border border-black px-2 py-[2px] hover:bg-rose-500 active:bg-rose-500",children:n.jsx(me,{})})]})]},r)):n.jsx("p",{className:"text-center",children:"Contacts not found"})})},we=()=>{const e=x(k);return v.error(`${e.message}`),n.jsx("div",{children:n.jsx("p",{className:"text-lg text-red-500",children:"Something went wrong, try reload the page."})})};function Ne(e){return f({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#673AB7",d:"M40,7H8c-2.2,0-4,1.8-4,4v26c0,2.2,1.8,4,4,4h5v-1.3c-0.6-0.3-1-1-1-1.7c0-1.1,0.9-2,2-2s2,0.9,2,2 c0,0.7-0.4,1.4-1,1.7V41h18v-1.3c-0.6-0.3-1-1-1-1.7c0-1.1,0.9-2,2-2s2,0.9,2,2c0,0.7-0.4,1.4-1,1.7V41h5c2.2,0,4-1.8,4-4V11 C44,8.8,42.2,7,40,7z"}},{tag:"g",attr:{fill:"#D1C4E9"},child:[{tag:"circle",attr:{cx:"24",cy:"18",r:"4"}},{tag:"path",attr:{d:"M31,28c0,0-1.9-4-7-4c-5.1,0-7,4-7,4v2h14V28z"}}]}]})(e)}function Ee(){const e=C(),a=x(ne),t=x(k);return H.useEffect(()=>{e(z())},[e]),n.jsxs("div",{className:"m-auto sm:flex sm:justify-center sm:gap-2",children:[a&&n.jsx(_,{}),n.jsxs("div",{className:"min-w-[240px] rounded-lg border p-3 min-[375px]:w-[365px]",children:[n.jsxs("h1",{className:"mb-4 flex items-center justify-center gap-2 text-2xl",children:[n.jsx(Ne,{}),"Phonebook"]}),n.jsx(Ae,{})]}),n.jsxs("div",{className:"min-w-[240px] rounded-lg border p-3 mt-2 min-[375px]:w-[365px] sm:mt-0",children:[n.jsxs("h2",{className:"mb-4 flex items-center justify-center gap-2 text-xl",children:[n.jsx(ie,{}),"Contacts"]}),t&&n.jsx(we,{}),n.jsx(je,{}),n.jsx(Ce,{})]})]})}export{Ee as default};
