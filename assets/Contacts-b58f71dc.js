import{R as g,j as n,u as w,b as x,_ as v,c as T,d as _,r as L,f as V,e as D,L as U}from"./index-99d490fb.js";import{h as I,i as P,j as W,r as G,T as Z,B as K}from"./yup.module-02ced647.js";var C="NOT_FOUND";function J(e){var r;return{get:function(a){return r&&e(r.key,a)?r.value:C},put:function(a,s){r={key:a,value:s}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}}function Q(e,r){var t=[];function a(o){var c=t.findIndex(function(f){return r(o,f.key)});if(c>-1){var i=t[c];return c>0&&(t.splice(c,1),t.unshift(i)),i.value}return C}function s(o,c){a(o)===C&&(t.unshift({key:o,value:c}),t.length>e&&t.pop())}function l(){return t}function u(){t=[]}return{get:a,put:s,getEntries:l,clear:u}}var X=function(r,t){return r===t};function Y(e){return function(t,a){if(t===null||a===null||t.length!==a.length)return!1;for(var s=t.length,l=0;l<s;l++)if(!e(t[l],a[l]))return!1;return!0}}function ee(e,r){var t=typeof r=="object"?r:{equalityCheck:r},a=t.equalityCheck,s=a===void 0?X:a,l=t.maxSize,u=l===void 0?1:l,o=t.resultEqualityCheck,c=Y(s),i=u===1?J(c):Q(u,c);function f(){var m=i.get(arguments);if(m===C){if(m=e.apply(null,arguments),o){var d=i.getEntries(),y=d.find(function(b){return o(b.value,m)});y&&(m=y.value)}i.put(arguments,m)}return m}return f.clearCache=function(){return i.clear()},f}function te(e){var r=Array.isArray(e[0])?e[0]:e;if(!r.every(function(a){return typeof a=="function"})){var t=r.map(function(a){return typeof a=="function"?"function "+(a.name||"unnamed")+"()":typeof a}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return r}function re(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),a=1;a<r;a++)t[a-1]=arguments[a];var s=function(){for(var u=arguments.length,o=new Array(u),c=0;c<u;c++)o[c]=arguments[c];var i=0,f,m={memoizeOptions:void 0},d=o.pop();if(typeof d=="object"&&(m=d,d=o.pop()),typeof d!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof d+"]");var y=m,b=y.memoizeOptions,A=b===void 0?t:b,q=Array.isArray(A)?A:[A],N=te(o),M=e.apply(void 0,[function(){return i++,d.apply(null,arguments)}].concat(q)),S=e(function(){for(var O=[],R=N.length,E=0;E<R;E++)O.push(N[E].apply(null,arguments));return f=M.apply(null,O),f});return Object.assign(S,{resultFunc:d,memoizedResultFunc:M,dependencies:N,lastResult:function(){return f},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),S};return s}var ae=re(ee);const H=e=>e.filter,k=e=>e.contacts.contacts,ne=e=>e.contacts.isLoading,B=e=>e.contacts.error,se=ae([k,H],(e,r)=>e.filter(t=>t.name.toLowerCase().includes(r.toLowerCase())));let ce=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((r,t)=>(t&=63,t<36?r+=t.toString(36):t<62?r+=(t-26).toString(36).toUpperCase():t>62?r+="-":r+="_",r),"");var F={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},z=g.createContext&&g.createContext(F),h=globalThis&&globalThis.__assign||function(){return h=Object.assign||function(e){for(var r,t=1,a=arguments.length;t<a;t++){r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},h.apply(this,arguments)},oe=globalThis&&globalThis.__rest||function(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t};function $(e){return e&&e.map(function(r,t){return g.createElement(r.tag,h({key:t},r.attr),$(r.child))})}function p(e){return function(r){return g.createElement(le,h({attr:h({},e.attr)},r),$(e.child))}}function le(e){var r=function(t){var a=e.attr,s=e.size,l=e.title,u=oe(e,["attr","size","title"]),o=s||t.size||"1em",c;return t.className&&(c=t.className),e.className&&(c=(c?c+" ":"")+e.className),g.createElement("svg",h({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,u,{className:c,style:h(h({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),l&&g.createElement("title",null,l),e.children)};return z!==void 0?g.createElement(z.Consumer,null,function(t){return r(t)}):r(F)}function ie(e){return p({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,32H64a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V40A8,8,0,0,0,208,32ZM136,144a32,32,0,1,1,32-32A32,32,0,0,1,136,144Z",opacity:"0.2"}},{tag:"path",attr:{d:"M83.19,174.4a8,8,0,0,0,11.21-1.6,52,52,0,0,1,83.2,0,8,8,0,1,0,12.8-9.6A67.88,67.88,0,0,0,163,141.51a40,40,0,1,0-53.94,0A67.88,67.88,0,0,0,81.6,163.2,8,8,0,0,0,83.19,174.4ZM112,112a24,24,0,1,1,24,24A24,24,0,0,1,112,112Zm96-88H64A16,16,0,0,0,48,40V64H32a8,8,0,0,0,0,16H48v40H32a8,8,0,0,0,0,16H48v40H32a8,8,0,0,0,0,16H48v24a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V40A16,16,0,0,0,208,24Zm0,192H64V40H208Z"}}]})(e)}function ue(e){return p({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,128a95.76,95.76,0,0,1-31.8,71.37A72,72,0,0,0,128,160a40,40,0,1,0-40-40,40,40,0,0,0,40,40,72,72,0,0,0-64.2,39.37h0A96,96,0,1,1,224,128Z",opacity:"0.2"}},{tag:"path",attr:{d:"M168,56a8,8,0,0,1,8-8h48a8,8,0,0,1,0,16H176A8,8,0,0,1,168,56Zm62.56,54.68a103.92,103.92,0,1,1-85.24-85.24,8,8,0,0,1-2.64,15.78A88.07,88.07,0,0,0,40,128a87.62,87.62,0,0,0,22.24,58.41A79.66,79.66,0,0,1,98.3,157.66a48,48,0,1,1,59.4,0,79.66,79.66,0,0,1,36.06,28.75A87.62,87.62,0,0,0,216,128a88.85,88.85,0,0,0-1.22-14.68,8,8,0,1,1,15.78-2.64ZM128,152a32,32,0,1,0-32-32A32,32,0,0,0,128,152Zm0,64a87.57,87.57,0,0,0,53.92-18.5,64,64,0,0,0-107.84,0A87.57,87.57,0,0,0,128,216Z"}}]})(e)}function de(e){return p({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"}}]})(e)}function me(e){return p({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M221.59,160.3l-47.24-21.17a14,14,0,0,0-13.28,1.22,4.81,4.81,0,0,0-.56.42l-24.69,21a1.88,1.88,0,0,1-1.68.06c-15.87-7.66-32.31-24-40-39.65a1.91,1.91,0,0,1,0-1.68l21.07-25a6.13,6.13,0,0,0,.42-.58,14,14,0,0,0,1.12-13.27L95.73,34.49a14,14,0,0,0-14.56-8.38A54.24,54.24,0,0,0,34,80c0,78.3,63.7,142,142,142a54.25,54.25,0,0,0,53.89-47.17A14,14,0,0,0,221.59,160.3ZM176,210C104.32,210,46,151.68,46,80A42.23,42.23,0,0,1,82.67,38h.23a2,2,0,0,1,1.84,1.31l21.1,47.11a2,2,0,0,1,0,1.67L84.73,113.15a4.73,4.73,0,0,0-.43.57,14,14,0,0,0-.91,13.73c8.87,18.16,27.17,36.32,45.53,45.19a14,14,0,0,0,13.77-1c.19-.13.38-.27.56-.42l24.68-21a1.92,1.92,0,0,1,1.6-.1l47.25,21.17a2,2,0,0,1,1.21,2A42.24,42.24,0,0,1,176,210Z"}}]})(e)}function fe(e){return p({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26ZM71.44,198a66,66,0,0,1,113.12,0,89.8,89.8,0,0,1-113.12,0ZM94,120a34,34,0,1,1,34,34A34,34,0,0,1,94,120Zm99.51,69.64a77.53,77.53,0,0,0-40-31.38,46,46,0,1,0-51,0,77.53,77.53,0,0,0-40,31.38,90,90,0,1,1,131,0Z"}}]})(e)}function he(e){return p({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M170,56a6,6,0,0,1,6-6h18V32a6,6,0,0,1,12,0V50h18a6,6,0,0,1,0,12H206V80a6,6,0,0,1-12,0V62H176A6,6,0,0,1,170,56Zm58.59,55A101.9,101.9,0,1,1,145,27.41a6,6,0,1,1-2,11.83A91.66,91.66,0,0,0,128,38,89.95,89.95,0,0,0,62.49,189.64a77.53,77.53,0,0,1,40-31.38,46,46,0,1,1,51,0,77.53,77.53,0,0,1,40,31.38A89.65,89.65,0,0,0,218,128a91.76,91.76,0,0,0-1.24-15,6,6,0,1,1,11.83-2ZM128,154a34,34,0,1,0-34-34A34,34,0,0,0,128,154Zm0,64A89.58,89.58,0,0,0,184.56,198a66,66,0,0,0-113.12,0A89.58,89.58,0,0,0,128,218Z"}}]})(e)}const ge=I({name:P().min(2,"Too Short!").matches(/^[a-zA-Zа-яА-Я]+([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*$/,"Name may contain only letters, apostrophe, dash, and spaces.").required("Name is required"),number:P().matches(/^\+?\d{1,4}?[ .\-s]?(\(\d{1,3}?\))?([ .\-s]?\d{1,4}){1,4}$/,"Phone number must be digits and can contain spaces, dashes, parentheses, and can start with +").required("Phone number is required").min(9,"Please enter at least 9 digits")}),pe=()=>{const{handleSubmit:e,reset:r,register:t,formState:{errors:a}}=W({reValidateMode:"onChange",resolver:G(ge)}),s=o=>{var c;return a[o]&&n.jsx("small",{className:"p-error mt-2",children:(c=a[o])==null?void 0:c.message})},l=t("name"),u=t("number");return{handleSubmit:e,reset:r,registerName:l,registerNumber:u,errorMessage:s}},xe=()=>{const e=w(),r=x(k),{handleSubmit:t,reset:a,registerName:s,registerNumber:l,errorMessage:u}=pe(),o=({name:c,number:i})=>{const f=r.some(d=>d.name.trim().toLowerCase()===c.trim().toLowerCase()),m=r.some(d=>d.number===i);f?v.error(`${c}' is already in contacts.`):m?v.error(`${i}' is already in contacts.`):(e(T({id:ce(),name:c,number:i})),v.success(`${c} has been successfully added to your contacts`),a())};return n.jsxs("form",{onSubmit:t(o),className:"mb-2 flex flex-col items-center gap-3 py-3",children:[n.jsxs("label",{className:"flex flex-col items-center gap-2",children:[n.jsxs("div",{className:"flex flex-row items-center gap-2",children:[n.jsx(fe,{}),n.jsx(Z,{...s,name:"name",type:"text",className:"rounded-lg pl-2 text-black",label:"User name"})]}),u("name")]}),n.jsxs("label",{className:"flex flex-col items-center gap-2",children:[n.jsxs("div",{className:"flex flex-row items-center gap-2",children:[n.jsx(me,{}),n.jsx(Z,{...l,name:"number",type:"tel",className:"rounded-lg pl-2 text-black",label:"Phone number"})]}),u("number")]}),n.jsxs(K,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},className:"flex items-center justify-center gap-1",children:[n.jsx(he,{}),"Add contact"]})]})},ve=()=>{const e=x(H),r=w();return n.jsx("label",{className:"mb-2 flex flex-col items-center gap-2",children:n.jsxs("div",{className:"flex flex-row items-center gap-2",children:[n.jsx(de,{}),n.jsx(Z,{value:e,label:"Find contacts by name",type:"text",onChange:t=>r(_(t.target.value)),className:"rounded-lg pl-2 text-black"})]})})},ye=()=>{const e=w();L.useEffect(()=>{e(V())},[e]);const r=x(se),t=(a,s)=>(v.success(`${s} has been successfully deleted from your contacts`),e(D(a)));return n.jsx("ul",{className:"max-h-[55vh] overflow-y-auto scrollbar-none",children:r.length?r.map(({id:a,name:s,number:l})=>n.jsxs("li",{className:"mb-2 flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center justify-between w-10/12",children:[n.jsxs("span",{className:"w-1/2 text-sm overflow-hidden max-[375px]:text-xs",children:[s,":"]}),n.jsx("span",{className:"overflow-hidden text-sm max-[375px]:text-xs",children:l})]}),n.jsx("button",{type:"button",onClick:()=>t(a,s),className:"flex rounded-lg bg-rose-500 px-2 py-[2px] hover:bg-rose-700 hover:stroke-black active:bg-rose-700 max-[375px]:text-xs max-[375px]:gap-1",children:n.jsx(ue,{})})]},a)):n.jsx("p",{className:"text-center",children:"Contacts not found"})})},be=()=>{const e=x(B);return v.warning(`${e.message}`),n.jsx("div",{children:n.jsx("p",{className:"text-lg text-red-500",children:"Something went wrong, try reload the page."})})};function je(e){return p({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#673AB7",d:"M40,7H8c-2.2,0-4,1.8-4,4v26c0,2.2,1.8,4,4,4h5v-1.3c-0.6-0.3-1-1-1-1.7c0-1.1,0.9-2,2-2s2,0.9,2,2 c0,0.7-0.4,1.4-1,1.7V41h18v-1.3c-0.6-0.3-1-1-1-1.7c0-1.1,0.9-2,2-2s2,0.9,2,2c0,0.7-0.4,1.4-1,1.7V41h5c2.2,0,4-1.8,4-4V11 C44,8.8,42.2,7,40,7z"}},{tag:"g",attr:{fill:"#D1C4E9"},child:[{tag:"circle",attr:{cx:"24",cy:"18",r:"4"}},{tag:"path",attr:{d:"M31,28c0,0-1.9-4-7-4c-5.1,0-7,4-7,4v2h14V28z"}}]}]})(e)}function Ae(){const e=w(),r=x(ne),t=x(B);return L.useEffect(()=>{e(V())},[e]),n.jsxs("div",{className:"flex justify-center gap-2",children:[r&&n.jsx(U,{}),n.jsxs("div",{className:"w-[310px] rounded-lg border p-3 min-[375px]:w-[365px]",children:[n.jsxs("h1",{className:"mb-4 flex items-center justify-center gap-2 text-2xl",children:[n.jsx(je,{}),"Phonebook"]}),n.jsx(xe,{})]}),n.jsxs("div",{className:"w-[310px] rounded-lg border p-3 min-[375px]:w-[365px]",children:[n.jsxs("h2",{className:"mb-4 flex items-center justify-center gap-2 text-xl",children:[n.jsx(ie,{}),"Contacts"]}),t&&n.jsx(be,{}),n.jsx(ve,{}),n.jsx(ye,{})]})]})}export{Ae as default};
